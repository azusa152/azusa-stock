{
  "openapi": "3.1.0",
  "info": {
    "title": "Folio API",
    "description": "Folio \u2014 \u667a\u80fd\u8cc7\u7522\u914d\u7f6e",
    "version": "2.0.0"
  },
  "paths": {
    "/health": {
      "get": {
        "summary": "Health check",
        "description": "Health check endpoint - NO auth (Docker healthcheck must access without key).",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/cache/clear": {
      "post": {
        "summary": "Clear all backend caches (L1 + L2)",
        "description": "Admin endpoint - WITH auth and rate limiting.",
        "operationId": "clear_cache_admin_cache_clear_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Clear Cache Admin Cache Clear Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker": {
      "post": {
        "summary": "Add a stock to the watchlist",
        "description": "\u65b0\u589e\u80a1\u7968\u5230\u8ffd\u8e64\u6e05\u55ae\u3002",
        "operationId": "create_ticker_route_ticker_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TickerCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stocks": {
      "get": {
        "summary": "List all active stocks",
        "description": "\u53d6\u5f97\u6240\u6709\u8ffd\u8e64\u4e2d\u80a1\u7968\uff08\u50c5 DB \u8cc7\u6599\uff0c\u4e0d\u542b\u6280\u8853\u8a0a\u865f\uff09\u3002",
        "operationId": "list_stocks_route_stocks_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StockResponse"
                  },
                  "title": "Response List Stocks Route Stocks Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stocks/enriched": {
      "get": {
        "summary": "Get all active stocks with signals, earnings, and dividends",
        "description": "\u6279\u6b21\u53d6\u5f97\u6240\u6709\u555f\u7528\u4e2d\u80a1\u7968\uff0c\u9644\u5e36\u6280\u8853\u8a0a\u865f\u3001\u8ca1\u5831\u65e5\u671f\u3001\u80a1\u606f\u8cc7\u8a0a\u3002",
        "operationId": "list_enriched_stocks_route_stocks_enriched_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response List Enriched Stocks Route Stocks Enriched Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stocks/reorder": {
      "put": {
        "summary": "Reorder stock display positions",
        "description": "\u6279\u6b21\u66f4\u65b0\u80a1\u7968\u986f\u793a\u9806\u4f4d\u3002",
        "operationId": "reorder_stocks_route_stocks_reorder_put",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReorderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/signals": {
      "get": {
        "summary": "Get technical signals for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u6280\u8853\u8a0a\u865f\uff08yfinance\uff0c\u542b\u5feb\u53d6\uff09\u3002",
        "operationId": "get_signals_route_ticker__ticker__signals_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Signals Route Ticker  Ticker  Signals Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/price-history": {
      "get": {
        "summary": "Get 1-year price history for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u6536\u76e4\u50f9\u6b77\u53f2\uff081 \u5e74\uff09\uff0c\u7528\u65bc\u50f9\u683c\u8da8\u52e2\u5716\u3002",
        "operationId": "get_price_history_route_ticker__ticker__price_history_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Price History Route Ticker  Ticker  Price History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stocks/export": {
      "get": {
        "summary": "Export watchlist as JSON",
        "description": "\u532f\u51fa\u6240\u6709\u8ffd\u8e64\u4e2d\u80a1\u7968\uff08\u7cbe\u7c21\u683c\u5f0f\uff0c\u9069\u7528\u65bc JSON \u4e0b\u8f09\u8207\u532f\u5165\uff09\u3002",
        "operationId": "export_stocks_route_stocks_export_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Export Stocks Route Stocks Export Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/moat": {
      "get": {
        "summary": "Get moat analysis (gross margin YoY)",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u8b77\u57ce\u6cb3\u8da8\u52e2\uff08\u6bdb\u5229\u7387 5 \u5b63\u8d70\u52e2 + YoY \u8a3a\u65b7\uff09\u3002Bond / Cash \u4e0d\u9069\u7528\u3002",
        "operationId": "get_moat_route_ticker__ticker__moat_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Moat Route Ticker  Ticker  Moat Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/category": {
      "patch": {
        "summary": "Update stock category",
        "description": "\u5207\u63db\u80a1\u7968\u5206\u985e\u3002",
        "operationId": "update_category_route_ticker__ticker__category_patch",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CategoryUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/deactivate": {
      "post": {
        "summary": "Deactivate a tracked stock",
        "description": "\u79fb\u9664\u8ffd\u8e64\u80a1\u7968\u3002",
        "operationId": "deactivate_ticker_route_ticker__ticker__deactivate_post",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeactivateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stocks/removed": {
      "get": {
        "summary": "List all removed stocks",
        "description": "\u53d6\u5f97\u6240\u6709\u5df2\u79fb\u9664\u80a1\u7968\u3002",
        "operationId": "list_removed_stocks_route_stocks_removed_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RemovedStockResponse"
                  },
                  "title": "Response List Removed Stocks Route Stocks Removed Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/removals": {
      "get": {
        "summary": "Get removal history for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u79fb\u9664\u6b77\u53f2\u3002",
        "operationId": "get_removal_history_route_ticker__ticker__removals_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Removal History Route Ticker  Ticker  Removals Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/reactivate": {
      "post": {
        "summary": "Reactivate a removed stock",
        "description": "\u91cd\u65b0\u555f\u7528\u5df2\u79fb\u9664\u7684\u80a1\u7968\u3002",
        "operationId": "reactivate_ticker_route_ticker__ticker__reactivate_post",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReactivateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/earnings": {
      "get": {
        "summary": "Get next earnings date for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u4e0b\u6b21\u8ca1\u5831\u65e5\u671f\u3002",
        "operationId": "get_earnings_route_ticker__ticker__earnings_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Earnings Route Ticker  Ticker  Earnings Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/dividend": {
      "get": {
        "summary": "Get dividend info for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u80a1\u606f\u8cc7\u8a0a\u3002",
        "operationId": "get_dividend_route_ticker__ticker__dividend_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Dividend Route Ticker  Ticker  Dividend Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/scan-history": {
      "get": {
        "summary": "Get scan history for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u6383\u63cf\u6b77\u53f2\u3002",
        "operationId": "get_scan_history_route_ticker__ticker__scan_history_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Scan History Route Ticker  Ticker  Scan History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/scan/history": {
      "get": {
        "summary": "Get latest scan logs across all stocks",
        "description": "\u53d6\u5f97\u6700\u8fd1\u6383\u63cf\u7d00\u9304\u3002",
        "operationId": "get_all_scan_history_route_scan_history_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get All Scan History Route Scan History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/alerts": {
      "post": {
        "summary": "Create a price alert",
        "description": "\u5efa\u7acb\u50f9\u683c\u8b66\u5831\u3002",
        "operationId": "create_price_alert_route_ticker__ticker__alerts_post",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PriceAlertCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "List price alerts for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u50f9\u683c\u8b66\u5831\u5217\u8868\u3002",
        "operationId": "get_price_alerts_route_ticker__ticker__alerts_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Price Alerts Route Ticker  Ticker  Alerts Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/alerts/{alert_id}": {
      "delete": {
        "summary": "Delete a price alert",
        "description": "\u522a\u9664\u50f9\u683c\u8b66\u5831\u3002",
        "operationId": "delete_price_alert_route_alerts__alert_id__delete",
        "parameters": [
          {
            "name": "alert_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Alert Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/alerts/{alert_id}/toggle": {
      "patch": {
        "summary": "Toggle a price alert on/off",
        "description": "\u5207\u63db\u50f9\u683c\u8b66\u5831\u555f\u7528\u72c0\u614b\u3002",
        "operationId": "toggle_price_alert_route_alerts__alert_id__toggle_patch",
        "parameters": [
          {
            "name": "alert_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Alert Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stocks/import": {
      "post": {
        "summary": "Bulk import stocks (upsert)",
        "description": "\u6279\u6b21\u532f\u5165\u80a1\u7968\uff08upsert \u908f\u8f2f\uff09\u3002\n\n\u9650\u5236\uff1a\n- \u6700\u591a\u4e00\u6b21\u532f\u5165 1000 \u7b46\n- ticker \u9577\u5ea6\u9650\u5236 20 \u5b57\u5143\n- thesis \u9577\u5ea6\u9650\u5236 5000 \u5b57\u5143",
        "operationId": "import_stocks_route_stocks_import_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/StockImportItem"
                },
                "title": "Payload"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/summary": {
      "get": {
        "summary": "Plain-text portfolio summary for AI agents",
        "description": "\u7d14\u6587\u5b57\u6295\u8cc7\u7d44\u5408\u6458\u8981\uff0c\u5c08\u70ba chat / AI agent \u8a2d\u8a08\u3002",
        "operationId": "get_summary_route_summary_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/webhook": {
      "post": {
        "summary": "Unified webhook for AI agent actions",
        "description": "\u7d71\u4e00\u5165\u53e3 \u2014 \u4f9b OpenClaw \u7b49 AI agent \u4f7f\u7528\u3002\n\u652f\u63f4\u7684 action: help, summary, signals, scan, moat, alerts, add_stock\n\nRate limited: 5/minute per IP (prevents webhook abuse).",
        "operationId": "webhook_route_webhook_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ticker/{ticker}/thesis": {
      "post": {
        "summary": "Add a thesis for a stock",
        "description": "\u70ba\u6307\u5b9a\u80a1\u7968\u65b0\u589e\u89c0\u9ede\u3002",
        "operationId": "create_thesis_route_ticker__ticker__thesis_post",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThesisCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get thesis history for a stock",
        "description": "\u53d6\u5f97\u6307\u5b9a\u80a1\u7968\u7684\u89c0\u9ede\u6b77\u53f2\u3002",
        "operationId": "get_thesis_history_route_ticker__ticker__thesis_get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Thesis History Route Ticker  Ticker  Thesis Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/scan/last": {
      "get": {
        "summary": "Get last scan timestamp",
        "description": "\u53d6\u5f97\u6700\u8fd1\u4e00\u6b21\u6383\u63cf\u7684\u6642\u9593\u6233\u8207\u5e02\u5834\u60c5\u7dd2\uff0c\u7528\u65bc\u5224\u65b7\u8cc7\u6599\u65b0\u9bae\u5ea6\u3002",
        "operationId": "get_last_scan_time_scan_last_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LastScanResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/scan/status": {
      "get": {
        "summary": "Check if scan is running",
        "description": "\u56de\u50b3\u76ee\u524d\u6383\u63cf\u662f\u5426\u6b63\u5728\u57f7\u884c\u4e2d\uff08\u7528\u65bc\u524d\u7aef UI \u72c0\u614b\u986f\u793a\uff09\u3002",
        "operationId": "get_scan_status_scan_status_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScanStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prewarm-status": {
      "get": {
        "summary": "Check if startup cache prewarm is complete",
        "description": "\u56de\u50b3\u555f\u52d5\u5feb\u53d6\u9810\u71b1\u662f\u5426\u5df2\u5b8c\u6210\u3002\u524d\u7aef\u53ef\u5728 ready=false \u6642\u986f\u793a\u8f09\u5165\u63d0\u793a\uff0c\u907f\u514d\u5728\u9810\u71b1\u4e2d\u89f8\u767c\u5927\u91cf\u91cd\u8907\u8acb\u6c42\u3002",
        "operationId": "get_prewarm_status_prewarm_status_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PrewarmStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/market/fear-greed": {
      "get": {
        "summary": "Fear & Greed Index",
        "description": "\u53d6\u5f97\u6050\u61fc\u8207\u8caa\u5a6a\u6307\u6578\uff08VIX + CNN Fear & Greed + 7 \u9805\u81ea\u8a08\u7b97\u6307\u6a19\u7d9c\u5408\u5206\u6790\uff09\u3002",
        "operationId": "get_fear_greed_market_fear_greed_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FearGreedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/scan": {
      "post": {
        "summary": "Trigger background scan",
        "description": "\u89f8\u767c V2 \u4e09\u5c64\u6f0f\u6597\u6383\u63cf\uff08\u975e\u540c\u6b65\uff09\uff0c\u7d50\u679c\u900f\u904e Telegram \u901a\u77e5\u3002\n\nRate limited: 5/minute per IP (prevents scan abuse & yfinance overload).",
        "operationId": "run_scan_route_scan_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcceptedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/digest": {
      "post": {
        "summary": "Trigger weekly digest",
        "description": "\u89f8\u767c\u6bcf\u9031\u6458\u8981\uff08\u975e\u540c\u6b65\uff09\uff0c\u7d50\u679c\u900f\u904e Telegram \u901a\u77e5\u3002\n\nRate limited: 5/minute per IP (prevents digest abuse).",
        "operationId": "run_digest_route_digest_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcceptedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/personas/templates": {
      "get": {
        "summary": "List persona templates",
        "description": "\u53d6\u5f97\u6240\u6709\u7cfb\u7d71\u9810\u8a2d\u6295\u8cc7\u4eba\u683c\u7bc4\u672c\u3002",
        "operationId": "list_persona_templates_personas_templates_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PersonaTemplateResponse"
                  },
                  "title": "Response List Persona Templates Personas Templates Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/profiles": {
      "get": {
        "summary": "Get active investment profile",
        "description": "\u53d6\u5f97\u76ee\u524d\u555f\u7528\u4e2d\u7684\u6295\u8cc7\u7d44\u5408\u914d\u7f6e\u3002",
        "operationId": "get_active_profile_profiles_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ProfileResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Active Profile Profiles Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create an investment profile",
        "description": "\u5efa\u7acb\u65b0\u7684\u6295\u8cc7\u7d44\u5408\u914d\u7f6e\uff08\u540c\u6642\u505c\u7528\u820a\u7684\uff09\u3002",
        "operationId": "create_profile_profiles_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfileCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/profiles/{profile_id}": {
      "put": {
        "summary": "Update an investment profile",
        "description": "\u66f4\u65b0\u6295\u8cc7\u7d44\u5408\u914d\u7f6e\u3002",
        "operationId": "update_profile_profiles__profile_id__put",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Profile Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfileUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Deactivate an investment profile",
        "description": "\u505c\u7528\u6295\u8cc7\u7d44\u5408\u914d\u7f6e\uff08\u8edf\u522a\u9664\uff09\u3002",
        "operationId": "delete_profile_profiles__profile_id__delete",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Profile Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/holdings": {
      "get": {
        "summary": "List all holdings",
        "description": "\u53d6\u5f97\u6240\u6709\u6301\u5009\u3002",
        "operationId": "list_holdings_holdings_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/HoldingResponse"
                  },
                  "title": "Response List Holdings Holdings Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Add a holding",
        "description": "\u65b0\u589e\u6301\u5009\u3002",
        "operationId": "create_holding_holdings_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HoldingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HoldingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/holdings/cash": {
      "post": {
        "summary": "Add a cash holding",
        "description": "\u65b0\u589e\u73fe\u91d1\u6301\u5009\uff08\u7c21\u5316\u5165\u53e3\uff09\u3002",
        "operationId": "create_cash_holding_holdings_cash_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CashHoldingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HoldingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/holdings/{holding_id}": {
      "put": {
        "summary": "Update a holding",
        "description": "\u66f4\u65b0\u6301\u5009\uff08\u90e8\u5206\u66f4\u65b0\uff09\u3002",
        "operationId": "update_holding_holdings__holding_id__put",
        "parameters": [
          {
            "name": "holding_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Holding Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateHoldingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HoldingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a holding",
        "description": "\u522a\u9664\u6301\u5009\u3002",
        "operationId": "delete_holding_holdings__holding_id__delete",
        "parameters": [
          {
            "name": "holding_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Holding Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/holdings/export": {
      "get": {
        "summary": "Export all holdings as JSON",
        "description": "\u532f\u51fa\u6240\u6709\u6301\u5009\uff08JSON \u683c\u5f0f\uff09\u3002",
        "operationId": "export_holdings_holdings_export_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Export Holdings Holdings Export Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/holdings/import": {
      "post": {
        "summary": "Bulk import holdings (replace)",
        "description": "\u6279\u6b21\u532f\u5165\u6301\u5009\uff08\u6e05\u9664\u820a\u8cc7\u6599\u5f8c\u91cd\u65b0\u532f\u5165\uff09\u3002\n\n\u9650\u5236\uff1a\n- \u6700\u591a\u4e00\u6b21\u532f\u5165 1000 \u7b46\n- ticker \u9577\u5ea6\u9650\u5236 20 \u5b57\u5143\n- quantity \u5fc5\u9808\u5927\u65bc 0",
        "operationId": "import_holdings_holdings_import_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/HoldingImportItem"
                },
                "title": "Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/rebalance": {
      "get": {
        "summary": "Calculate rebalance analysis",
        "description": "\u8a08\u7b97\u518d\u5e73\u8861\u5206\u6790\uff08\u76ee\u6a19 vs \u5be6\u969b\u914d\u7f6e\uff09\u3002\u53ef\u900f\u904e display_currency \u6307\u5b9a\u986f\u793a\u5e63\u5225\u3002",
        "operationId": "get_rebalance_rebalance_get",
        "parameters": [
          {
            "name": "display_currency",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "USD",
              "title": "Display Currency"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RebalanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/rebalance/xray-alert": {
      "post": {
        "summary": "Trigger X-Ray alert via Telegram",
        "description": "\u89f8\u767c X-Ray \u7a7f\u900f\u5f0f\u6301\u5009\u5206\u6790\u4e26\u767c\u9001 Telegram \u8b66\u544a\u3002",
        "operationId": "trigger_xray_alert_rebalance_xray_alert_post",
        "parameters": [
          {
            "name": "display_currency",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "USD",
              "title": "Display Currency"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/XRayAlertResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/withdraw": {
      "post": {
        "summary": "Smart withdrawal plan (Liquidity Waterfall)",
        "description": "\u8070\u660e\u63d0\u6b3e\uff1a\u6839\u64da Liquidity Waterfall \u6f14\u7b97\u6cd5\u7522\u751f\u8ce3\u51fa\u5efa\u8b70\u3002\n\u512a\u5148\u9806\u5e8f\uff1a\u518d\u5e73\u8861\u8d85\u914d \u2192 \u7bc0\u7a05\uff08\u8667\u640d\u6301\u5009\uff09\u2192 \u6d41\u52d5\u6027\uff08Cash/Bond \u512a\u5148\uff09\u3002",
        "operationId": "calculate_withdraw_route_withdraw_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WithdrawRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WithdrawResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/currency-exposure": {
      "get": {
        "summary": "Calculate currency exposure",
        "description": "\u8a08\u7b97\u532f\u7387\u66dd\u96aa\u5206\u6790\uff1a\u5e63\u5225\u5206\u4f48\u3001\u532f\u7387\u8b8a\u52d5\u3001\u98a8\u96aa\u7b49\u7d1a\u8207\u5efa\u8b70\u3002",
        "operationId": "get_currency_exposure_currency_exposure_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrencyExposureResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/currency-exposure/alert": {
      "post": {
        "summary": "Trigger FX alert via Telegram",
        "description": "\u6aa2\u67e5\u532f\u7387\u66dd\u96aa\u4e26\u767c\u9001 Telegram \u8b66\u5831\u3002",
        "operationId": "trigger_fx_alert_currency_exposure_alert_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FXAlertResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stress-test": {
      "get": {
        "summary": "Calculate portfolio stress test",
        "description": "\u8a08\u7b97\u7d44\u5408\u58d3\u529b\u6e2c\u8a66\uff1a\u8a55\u4f30\u5e02\u5834\u5d29\u76e4\u60c5\u5883\u4e0b\u7684\u9810\u671f\u640d\u5931\u3002\n\nArgs:\n    scenario_drop_pct: \u5e02\u5834\u5d29\u76e4\u60c5\u5883 % (\u7bc4\u570d: -50 \u5230 0\uff0c\u9810\u8a2d -20)\n    display_currency: \u986f\u793a\u5e63\u5225\uff08\u9810\u8a2d USD\uff09\n    session: DB session (injected)\n\nReturns:\n    StressTestResponse: \u58d3\u529b\u6e2c\u8a66\u7d50\u679c\uff08portfolio_beta, total_loss, pain_level, advice, breakdown\uff09\n\nRaises:\n    HTTPException 404: \u7576\u7121\u4efb\u4f55\u6301\u5009\u6642\n    HTTPException 422: \u7576 scenario_drop_pct \u8d85\u51fa\u7bc4\u570d\u6642",
        "operationId": "get_stress_test_stress_test_get",
        "parameters": [
          {
            "name": "scenario_drop_pct",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "default": -20.0,
              "title": "Scenario Drop Pct"
            }
          },
          {
            "name": "display_currency",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "USD",
              "title": "Display Currency"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StressTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/settings/telegram": {
      "get": {
        "summary": "Get Telegram settings",
        "description": "\u53d6\u5f97\u76ee\u524d\u7684 Telegram \u901a\u77e5\u8a2d\u5b9a\u3002",
        "operationId": "get_telegram_settings_settings_telegram_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Telegram settings",
        "description": "\u66f4\u65b0 Telegram \u901a\u77e5\u8a2d\u5b9a\u3002\n\nNote: custom_bot_token \u5728\u5b58\u5165\u8cc7\u6599\u5eab\u524d\u6703\u81ea\u52d5\u52a0\u5bc6\uff08Fernet\uff09\u3002",
        "operationId": "update_telegram_settings_settings_telegram_put",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TelegramSettingsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/settings/telegram/test": {
      "post": {
        "summary": "Send a test Telegram message",
        "description": "\u767c\u9001\u6e2c\u8a66\u8a0a\u606f\u4ee5\u9a57\u8b49 Telegram \u8a2d\u5b9a\u662f\u5426\u6b63\u78ba\u3002",
        "operationId": "test_telegram_message_settings_telegram_test_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/settings/preferences": {
      "get": {
        "summary": "Get user preferences",
        "description": "\u53d6\u5f97\u76ee\u524d\u7684\u4f7f\u7528\u8005\u504f\u597d\u8a2d\u5b9a\u3002",
        "operationId": "get_preferences_settings_preferences_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreferencesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update user preferences",
        "description": "\u66f4\u65b0\u4f7f\u7528\u8005\u504f\u597d\u8a2d\u5b9a\uff08upsert\uff09\u3002",
        "operationId": "update_preferences_settings_preferences_put",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PreferencesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreferencesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/forex/{base}/{quote}/history-long": {
      "get": {
        "tags": [
          "Forex"
        ],
        "summary": "Get Forex History Endpoint",
        "description": "Get 3-month daily FX rate history for a currency pair.\n\nArgs:\n    base: Base currency code (e.g., 'USD')\n    quote: Quote currency code (e.g., 'TWD')\n\nReturns:\n    List of daily rate records: [{\"date\": \"YYYY-MM-DD\", \"close\": 32.15}, ...]\n\nCache:\n    - L1 (in-memory): 2 hours\n    - L2 (disk): 4 hours",
        "operationId": "get_forex_history_endpoint_forex__base___quote__history_long_get",
        "parameters": [
          {
            "name": "base",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Base"
            }
          },
          {
            "name": "quote",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Quote"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Forex History Endpoint Forex  Base   Quote  History Long Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/fx-watch": {
      "get": {
        "summary": "Get all FX watch configs",
        "description": "\u53d6\u5f97\u6240\u6709\u5916\u532f\u76e3\u63a7\u914d\u7f6e\u3002\n\nQuery Parameters:\n- active_only: \u662f\u5426\u50c5\u53d6\u555f\u7528\u4e2d\u7684\u914d\u7f6e\uff08\u9810\u8a2d False\uff09\n- user_id: \u4f7f\u7528\u8005 ID\uff08\u9810\u8a2d DEFAULT_USER_ID\uff09",
        "operationId": "get_fx_watch_configs_fx_watch_get",
        "parameters": [
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Active Only"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "User Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FXWatchResponse"
                  },
                  "title": "Response Get Fx Watch Configs Fx Watch Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create FX watch config",
        "description": "\u65b0\u589e\u5916\u532f\u76e3\u63a7\u914d\u7f6e\u3002\n\nRequest Body:\n- base_currency: \u57fa\u790e\u8ca8\u5e63\uff08\u4f8b\u5982 USD\uff09\n- quote_currency: \u5831\u50f9\u8ca8\u5e63\uff08\u4f8b\u5982 TWD\uff09\n- recent_high_days: \u56de\u6eaf\u5929\u6578\uff08\u9810\u8a2d 30\uff09\n- consecutive_increase_days: \u9023\u7e8c\u4e0a\u6f32\u5929\u6578\u9580\u6abb\uff08\u9810\u8a2d 3\uff09\n- alert_on_recent_high: \u662f\u5426\u555f\u7528\u8fd1\u671f\u9ad8\u9ede\u8b66\u5831\uff08\u9810\u8a2d True\uff09\n- alert_on_consecutive_increase: \u662f\u5426\u555f\u7528\u9023\u7e8c\u4e0a\u6f32\u8b66\u5831\uff08\u9810\u8a2d True\uff09\n- reminder_interval_hours: \u63d0\u9192\u9593\u9694\uff08\u9810\u8a2d 24\uff09",
        "operationId": "create_fx_watch_config_fx_watch_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "User Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FXWatchCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FXWatchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/fx-watch/{watch_id}": {
      "patch": {
        "summary": "Update FX watch config",
        "description": "\u66f4\u65b0\u5916\u532f\u76e3\u63a7\u914d\u7f6e\u3002\n\nPath Parameters:\n- watch_id: \u914d\u7f6e ID\n\nRequest Body:\n- recent_high_days: \u56de\u6eaf\u5929\u6578\uff08\u53ef\u9078\uff09\n- consecutive_increase_days: \u9023\u7e8c\u4e0a\u6f32\u5929\u6578\u9580\u6abb\uff08\u53ef\u9078\uff09\n- alert_on_recent_high: \u662f\u5426\u555f\u7528\u8fd1\u671f\u9ad8\u9ede\u8b66\u5831\uff08\u53ef\u9078\uff09\n- alert_on_consecutive_increase: \u662f\u5426\u555f\u7528\u9023\u7e8c\u4e0a\u6f32\u8b66\u5831\uff08\u53ef\u9078\uff09\n- reminder_interval_hours: \u63d0\u9192\u9593\u9694\uff08\u53ef\u9078\uff09\n- is_active: \u662f\u5426\u555f\u7528\uff08\u53ef\u9078\uff09",
        "operationId": "update_fx_watch_config_fx_watch__watch_id__patch",
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FXWatchUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FXWatchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete FX watch config",
        "description": "\u522a\u9664\u5916\u532f\u76e3\u63a7\u914d\u7f6e\u3002\n\nPath Parameters:\n- watch_id: \u914d\u7f6e ID",
        "operationId": "delete_fx_watch_config_fx_watch__watch_id__delete",
        "parameters": [
          {
            "name": "watch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Watch Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/fx-watch/check": {
      "post": {
        "summary": "Check FX watches (no alert)",
        "description": "\u6aa2\u67e5\u6240\u6709\u555f\u7528\u4e2d\u7684\u5916\u532f\u76e3\u63a7\u914d\u7f6e\uff0c\u7522\u51fa\u5206\u6790\u7d50\u679c\uff08\u4e0d\u767c\u9001\u901a\u77e5\uff09\u3002\n\nQuery Parameters:\n- user_id: \u4f7f\u7528\u8005 ID\uff08\u9810\u8a2d DEFAULT_USER_ID\uff09\n\nReturns:\n- total_watches: \u555f\u7528\u4e2d\u7684\u914d\u7f6e\u6578\u91cf\n- results: \u5206\u6790\u7d50\u679c\u5217\u8868\uff08\u542b\u914d\u7f6e ID\u3001\u8ca8\u5e63\u5c0d\u3001\u5206\u6790\u7d50\u679c\uff09",
        "operationId": "check_fx_watch_alerts_fx_watch_check_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "User Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FXWatchCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/fx-watch/alert": {
      "post": {
        "summary": "Check FX watches & send Telegram alert",
        "description": "\u6aa2\u67e5\u6240\u6709\u555f\u7528\u4e2d\u7684\u5916\u532f\u76e3\u63a7\u914d\u7f6e\uff0c\u767c\u9001 Telegram \u8b66\u5831\uff08\u5e36\u51b7\u537b\u6a5f\u5236\uff09\u3002\n\nQuery Parameters:\n- user_id: \u4f7f\u7528\u8005 ID\uff08\u9810\u8a2d DEFAULT_USER_ID\uff09\n\nReturns:\n- total_watches: \u555f\u7528\u4e2d\u7684\u914d\u7f6e\u6578\u91cf\n- triggered_alerts: \u89f8\u767c\u8b66\u5831\u7684\u6578\u91cf\n- sent_alerts: \u5be6\u969b\u767c\u9001\u7684\u8b66\u5831\u6578\u91cf\n- alerts: \u89f8\u767c\u8b66\u5831\u7684\u8a73\u7d30\u8cc7\u8a0a",
        "operationId": "send_fx_watch_alert_fx_watch_alert_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "User Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FXWatchAlertResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "List all active gurus",
        "description": "\u53d6\u5f97\u6240\u6709\u555f\u7528\u4e2d\u7684\u5927\u5e2b\u6e05\u55ae\uff08\u542b is_default \u6a19\u8a18\uff09\u3002",
        "operationId": "get_gurus_gurus_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GuruResponse"
                  },
                  "title": "Response Get Gurus Gurus Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "smart-money"
        ],
        "summary": "Add a custom guru by CIK",
        "description": "\u65b0\u589e\u81ea\u8a02\u5927\u5e2b\u3002\u82e5 CIK \u5df2\u5b58\u5728\u4e14\u70ba\u505c\u7528\u72c0\u614b\u5247\u91cd\u65b0\u555f\u7528\u3002",
        "operationId": "create_guru_gurus_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GuruCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/{guru_id}": {
      "delete": {
        "tags": [
          "smart-money"
        ],
        "summary": "Deactivate a guru (soft delete)",
        "description": "\u505c\u7528\u5927\u5e2b\uff08\u8edf\u522a\u9664\uff0c\u4fdd\u7559\u6b77\u53f2\u7533\u5831\u8cc7\u6599\uff09\u3002",
        "operationId": "delete_guru_gurus__guru_id__delete",
        "parameters": [
          {
            "name": "guru_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Guru Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Delete Guru Gurus  Guru Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/sync": {
      "post": {
        "tags": [
          "smart-money"
        ],
        "summary": "Trigger 13F sync for all tracked gurus",
        "description": "\u89f8\u767c\u6240\u6709\u555f\u7528\u4e2d\u5927\u5e2b\u7684 13F \u540c\u6b65\uff08\u540c\u6b65\u57f7\u884c\uff0c\u9069\u5408\u6392\u7a0b\u547c\u53eb\uff09\u3002",
        "operationId": "sync_all_gurus_sync_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncAllResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/{guru_id}/sync": {
      "post": {
        "tags": [
          "smart-money"
        ],
        "summary": "Trigger 13F sync for one guru",
        "description": "\u89f8\u767c\u6307\u5b9a\u5927\u5e2b\u7684 13F \u540c\u6b65\u3002",
        "operationId": "sync_one_gurus__guru_id__sync_post",
        "parameters": [
          {
            "name": "guru_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Guru Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/grand-portfolio": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Aggregated portfolio across all active gurus' latest 13F filings",
        "description": "\u8de8\u6240\u6709\u555f\u7528\u4e2d\u5927\u5e2b\u7684\u6700\u65b0 13F \u6301\u5009\u805a\u5408\u8996\u5716\u3002",
        "operationId": "get_grand_portfolio_endpoint_gurus_grand_portfolio_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GrandPortfolioResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/{guru_id}/filing": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Latest 13F filing summary for a guru",
        "description": "\u53d6\u5f97\u6307\u5b9a\u5927\u5e2b\u6700\u65b0\u7533\u5831\u6458\u8981\uff0c\u542b\u5206\u985e\u6301\u5009\uff08\u65b0\u5efa\u5009\u3001\u6e05\u5009\u3001\u52a0\u78bc\u3001\u6e1b\u78bc\uff09\u3002",
        "operationId": "get_filing_gurus__guru_id__filing_get",
        "parameters": [
          {
            "name": "guru_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Guru Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruFilingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/{guru_id}/holdings": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Holding changes for a guru (action != UNCHANGED), sorted by significance",
        "description": "\u53d6\u5f97\u6307\u5b9a\u5927\u5e2b\u6700\u65b0\u7533\u5831\u4e2d\u6709\u52d5\u4f5c\u7684\u6301\u5009\uff08\u6392\u9664 UNCHANGED\uff09\u3002\n\n\u7d50\u679c\u4f9d\u8b8a\u52d5\u5e45\u5ea6 abs(change_pct) \u964d\u5e8f\u6392\u5217\uff0c\u518d\u4f9d weight_pct \u964d\u5e8f\uff0c\u6700\u591a\u56de\u50b3 limit \u7b46\u3002",
        "operationId": "get_holdings_gurus__guru_id__holdings_get",
        "parameters": [
          {
            "name": "guru_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Guru Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Max number of changes to return (sorted by abs(change_pct) then weight_pct)",
              "default": 20,
              "title": "Limit"
            },
            "description": "Max number of changes to return (sorted by abs(change_pct) then weight_pct)"
          },
          {
            "name": "include_performance",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Performance"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GuruHoldingResponse"
                  },
                  "title": "Response Get Holdings Gurus  Guru Id  Holdings Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/{guru_id}/top": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Top N holdings by weight for a guru",
        "description": "\u53d6\u5f97\u6307\u5b9a\u5927\u5e2b\u6301\u5009\u6b0a\u91cd\u6700\u9ad8\u7684\u524d N \u652f\u80a1\u7968\uff08\u9810\u8a2d Top 10\uff0c\u6700\u591a 50\uff09\u3002",
        "operationId": "get_top_holdings_gurus__guru_id__top_get",
        "parameters": [
          {
            "name": "guru_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Guru Id"
            }
          },
          {
            "name": "n",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Top N holdings",
              "default": 10,
              "title": "N"
            },
            "description": "Top N holdings"
          },
          {
            "name": "include_performance",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Performance"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GuruHoldingResponse"
                  },
                  "title": "Response Get Top Holdings Gurus  Guru Id  Top Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/{guru_id}/qoq": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Quarter-over-quarter holding history for a guru",
        "description": "\u53d6\u5f97\u6307\u5b9a\u5927\u5e2b\u8de8\u5b63\u5ea6\u6301\u5009\u6b77\u53f2\uff08\u9810\u8a2d\u6700\u8fd1 3 \u5b63\uff09\u3002",
        "operationId": "get_guru_qoq_gurus__guru_id__qoq_get",
        "parameters": [
          {
            "name": "guru_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Guru Id"
            }
          },
          {
            "name": "quarters",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 8,
              "minimum": 2,
              "default": 3,
              "title": "Quarters"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QoQResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/dashboard": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Aggregated dashboard summary across all gurus",
        "description": "\u53d6\u5f97\u8de8\u5927\u5e2b\u7684\u805a\u5408\u5100\u8868\u677f\u6458\u8981\uff0c\u4f9b Smart Money \u7e3d\u89bd\u9801\u9762\u4f7f\u7528\u3002\n\n\u56de\u50b3\uff1a\n- gurus: \u6bcf\u4f4d\u555f\u7528\u4e2d\u5927\u5e2b\u7684\u6700\u65b0\u7533\u5831\u6458\u8981\uff08\u542b\u7533\u5831\u7e3d\u7b46\u6578\uff09\n- season_highlights: \u672c\u5b63\u65b0\u5efa\u5009\u8207\u6e05\u5009\u5217\u8868\n- consensus: \u88ab\u591a\u4f4d\u5927\u5e2b\u540c\u6642\u6301\u6709\u7684\u5171\u8b58\u80a1\u7968\u5217\u8868\n- sector_breakdown: \u4f9d\u884c\u696d\u677f\u584a\u5f59\u7e3d\u7684\u6301\u5009\u5206\u4f48\n\n\u26a0\ufe0f \u57fa\u65bc 13F \u7533\u5831\u5feb\u7167\uff0c\u975e\u5373\u6642\u8cc7\u6599\u3002",
        "operationId": "get_dashboard_gurus_dashboard_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/{guru_id}/filings": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Historical 13F filings list for a guru",
        "description": "\u53d6\u5f97\u6307\u5b9a\u5927\u5e2b\u6240\u6709\u5df2\u540c\u6b65\u7533\u5831\u7684\u6b77\u53f2\u5217\u8868\uff08\u4f9d report_date \u964d\u5e8f\uff09\u3002\n\u4f9b Smart Money \u9801\u9762\u6642\u9593\u8ef8\u986f\u793a\u4f7f\u7528\u3002",
        "operationId": "get_filing_history_gurus__guru_id__filings_get",
        "parameters": [
          {
            "name": "guru_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Guru Id"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilingHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/gurus/notify": {
      "post": {
        "tags": [
          "smart-money"
        ],
        "summary": "Trigger filing season digest notification",
        "description": "\u767c\u9001\u672c\u5b63\u6240\u6709\u5927\u5e2b 13F \u7533\u5831\u6458\u8981\u7684 Telegram \u901a\u77e5\u3002",
        "operationId": "trigger_filing_notification_gurus_notify_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Trigger Filing Notification Gurus Notify Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/resonance": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Portfolio resonance overview (all gurus vs user watchlist/holdings)",
        "description": "\u8a08\u7b97\u6240\u6709\u5927\u5e2b\u6700\u65b0\u6301\u5009\u8207\u4f7f\u7528\u8005\u95dc\u6ce8\u6e05\u55ae\uff0f\u5be6\u969b\u6301\u5009\u7684\u4ea4\u96c6\u3002\n\n\u56de\u50b3\u6bcf\u4f4d\u5927\u5e2b\u7684\u91cd\u758a\u80a1\u7968\u6e05\u55ae\uff0c\u4f9d\u91cd\u758a\u6578\u91cf\u964d\u5e8f\u6392\u5217\u3002\n\u26a0\ufe0f \u57fa\u65bc 13F \u7533\u5831\u5feb\u7167\uff0c\u975e\u5373\u6642\u8cc7\u6599\u3002",
        "operationId": "get_resonance_resonance_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResonanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/resonance/great-minds": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "\"Great Minds Think Alike\" \u2014 stocks held by both user and gurus",
        "description": "\u82f1\u96c4\u6240\u898b\u7565\u540c\uff1a\u4f7f\u7528\u8005\uff08\u95dc\u6ce8\u6e05\u55ae\u6216\u6301\u5009\uff09\uff0b\u81f3\u5c11\u4e00\u4f4d\u5927\u5e2b\u540c\u6642\u6301\u6709\u7684\u80a1\u7968\u3002\n\n\u6309\u6301\u6709\u8a72\u80a1\u7968\u7684\u5927\u5e2b\u6578\u91cf\u964d\u5e8f\u6392\u5217\u3002\n\u26a0\ufe0f \u57fa\u65bc 13F \u7533\u5831\u5feb\u7167\uff0c\u975e\u5373\u6642\u8cc7\u6599\u3002",
        "operationId": "get_great_minds_resonance_great_minds_get",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GreatMindsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/resonance/{ticker}": {
      "get": {
        "tags": [
          "smart-money"
        ],
        "summary": "Which gurus hold a specific ticker",
        "description": "\u67e5\u8a62\u54ea\u4e9b\u5927\u5e2b\u7684\u6700\u65b0\u7533\u5831\u4e2d\u6301\u6709\u6307\u5b9a\u80a1\u7968\uff08Radar \u9801\u9762\u5fbd\u7ae0\u7528\uff09\u3002\n\n\u26a0\ufe0f \u57fa\u65bc 13F \u7533\u5831\u5feb\u7167\uff0c\u975e\u5373\u6642\u8cc7\u6599\u3002",
        "operationId": "get_resonance_ticker_resonance__ticker__get",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ticker"
            }
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResonanceTickerResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/snapshots": {
      "get": {
        "summary": "Get historical portfolio snapshots",
        "description": "\u53d6\u5f97\u6b77\u53f2\u6295\u8cc7\u7d44\u5408\u5feb\u7167\u3002\n\n- \u9810\u8a2d\u56de\u50b3\u6700\u8fd1 30 \u5929\uff0c\u53ef\u900f\u904e `days` \u8abf\u6574\uff08\u6700\u591a 730 \u5929\uff09\u3002\n- \u82e5\u63d0\u4f9b `start` / `end`\uff0c\u5247\u6539\u7528\u65e5\u671f\u5340\u9593\u67e5\u8a62\uff08\u512a\u5148\uff09\u3002\n- \u7d50\u679c\u4f9d\u65e5\u671f\u5347\u51aa\u6392\u5217\uff08\u6700\u820a\u5728\u524d\uff09\u3002",
        "operationId": "list_snapshots_snapshots_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 730,
              "minimum": 1,
              "description": "\u56de\u6eaf\u5929\u6578\uff081\u2013730\uff09",
              "default": 30,
              "title": "Days"
            },
            "description": "\u56de\u6eaf\u5929\u6578\uff081\u2013730\uff09"
          },
          {
            "name": "start",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "\u8d77\u59cb\u65e5\u671f\uff08YYYY-MM-DD\uff0c\u8207 days \u4e92\u65a5\uff09",
              "title": "Start"
            },
            "description": "\u8d77\u59cb\u65e5\u671f\uff08YYYY-MM-DD\uff0c\u8207 days \u4e92\u65a5\uff09"
          },
          {
            "name": "end",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "\u7d50\u675f\u65e5\u671f\uff08YYYY-MM-DD\uff0c\u8207 days \u4e92\u65a5\uff09",
              "title": "End"
            },
            "description": "\u7d50\u675f\u65e5\u671f\uff08YYYY-MM-DD\uff0c\u8207 days \u4e92\u65a5\uff09"
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SnapshotResponse"
                  },
                  "title": "Response List Snapshots Snapshots Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/snapshots/twr": {
      "get": {
        "summary": "Compute time-weighted return for a date range",
        "description": "\u8a08\u7b97\u6307\u5b9a\u65e5\u671f\u7bc4\u570d\u7684\u6642\u9593\u52a0\u6b0a\u5831\u916c\u7387\uff08TWR\uff09\u3002\n\n- \u9810\u8a2d\u8a08\u7b97\u4eca\u5e74 YTD\uff08start = 1/1, end = \u4eca\u65e5\uff09\u3002\n- \u82e5\u7121\u8db3\u5920\u5feb\u7167\uff0ctwr_pct \u56de\u50b3 None\u3002",
        "operationId": "get_twr_snapshots_twr_get",
        "parameters": [
          {
            "name": "start",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "\u8d77\u59cb\u65e5\u671f\uff08\u9810\u8a2d\uff1a\u4eca\u5e74 1 \u6708 1 \u65e5\uff09",
              "title": "Start"
            },
            "description": "\u8d77\u59cb\u65e5\u671f\uff08\u9810\u8a2d\uff1a\u4eca\u5e74 1 \u6708 1 \u65e5\uff09"
          },
          {
            "name": "end",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "\u7d50\u675f\u65e5\u671f\uff08\u9810\u8a2d\uff1a\u4eca\u65e5\uff09",
              "title": "End"
            },
            "description": "\u7d50\u675f\u65e5\u671f\uff08\u9810\u8a2d\uff1a\u4eca\u65e5\uff09"
          },
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TwrResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/snapshots/take": {
      "post": {
        "summary": "Trigger daily portfolio snapshot (background)",
        "description": "\u89f8\u767c\u6bcf\u65e5\u5feb\u7167\u5efa\u7acb\uff08\u975e\u540c\u6b65\u80cc\u666f\u57f7\u884c\uff09\u3002\n\u82e5\u4eca\u65e5\u5df2\u6709\u5feb\u7167\uff0c\u5247\u66f4\u65b0\uff08upsert \u8a9e\u610f\uff09\u3002\n\nRate limited: 10/minute\u3002",
        "operationId": "take_snapshot_snapshots_take_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcceptedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/snapshots/backfill-benchmarks": {
      "post": {
        "summary": "Backfill benchmark prices for historical snapshots (background)",
        "description": "\u65e2\u5b58\u306e\u7a7a\u306e benchmark_values \u3092\u6301\u3064\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u3001\nVT / ^N225 / ^TWII / ^GSPC \u306e\u904e\u53bb\u7d42\u5024\u3092 yfinance \u304b\u3089\u4e00\u62ec\u53d6\u5f97\u3057\u88dc\u5b8c\u3059\u308b\u3002\n\n\u80cc\u666f\u57f7\u884c\u7dd2\u3067\u975e\u540c\u6b65\u5b9f\u884c\u3002\u5b8c\u4e86\u307e\u3067\u306b\u6570\u79d2\u301c\u6570\u5341\u79d2\u304b\u304b\u308b\u5834\u5408\u304c\u3042\u308b\u3002\nRate limited: 3/minute\u3002",
        "operationId": "backfill_benchmarks_snapshots_backfill_benchmarks_post",
        "parameters": [
          {
            "name": "x-api-key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcceptedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AcceptedResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "default": "accepted"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "AcceptedResponse",
        "description": "\u975e\u540c\u6b65\u64cd\u4f5c\u5df2\u63a5\u53d7\u56de\u61c9\u3002"
      },
      "ActivityFeed": {
        "properties": {
          "most_bought": {
            "items": {
              "$ref": "#/components/schemas/ActivityFeedItem"
            },
            "type": "array",
            "title": "Most Bought",
            "default": []
          },
          "most_sold": {
            "items": {
              "$ref": "#/components/schemas/ActivityFeedItem"
            },
            "type": "array",
            "title": "Most Sold",
            "default": []
          }
        },
        "type": "object",
        "title": "ActivityFeed",
        "description": "\u672c\u5b63\u6700\u591a\u8cb7\u5165\u8207\u6700\u591a\u8ce3\u51fa\u80a1\u7968\u6392\u884c\u3002"
      },
      "ActivityFeedItem": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "company_name": {
            "type": "string",
            "title": "Company Name"
          },
          "guru_count": {
            "type": "integer",
            "title": "Guru Count"
          },
          "gurus": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Gurus",
            "default": []
          },
          "total_value": {
            "type": "number",
            "title": "Total Value",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "company_name",
          "guru_count"
        ],
        "title": "ActivityFeedItem",
        "description": "\u55ae\u4e00\u80a1\u7968\u7684\u8cb7\u5165\u6216\u8ce3\u51fa\u6d3b\u52d5\u6458\u8981\u3002"
      },
      "CNNFearGreedData": {
        "properties": {
          "score": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Score"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "default": ""
          },
          "level": {
            "type": "string",
            "title": "Level",
            "default": "N/A"
          },
          "fetched_at": {
            "type": "string",
            "title": "Fetched At",
            "default": ""
          }
        },
        "type": "object",
        "title": "CNNFearGreedData",
        "description": "CNN Fear & Greed Index \u8cc7\u6599\u3002"
      },
      "CashHoldingRequest": {
        "properties": {
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "amount": {
            "type": "number",
            "title": "Amount"
          },
          "broker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Broker"
          },
          "account_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Type"
          }
        },
        "type": "object",
        "required": [
          "currency",
          "amount"
        ],
        "title": "CashHoldingRequest",
        "description": "POST /holdings/cash \u8acb\u6c42 Body\u3002"
      },
      "CategoryAllocation": {
        "properties": {
          "target_pct": {
            "type": "number",
            "title": "Target Pct"
          },
          "current_pct": {
            "type": "number",
            "title": "Current Pct"
          },
          "drift_pct": {
            "type": "number",
            "title": "Drift Pct"
          },
          "market_value": {
            "type": "number",
            "title": "Market Value"
          }
        },
        "type": "object",
        "required": [
          "target_pct",
          "current_pct",
          "drift_pct",
          "market_value"
        ],
        "title": "CategoryAllocation",
        "description": "\u55ae\u4e00\u5206\u985e\u7684\u914d\u7f6e\u5206\u6790\u3002"
      },
      "CategoryUpdateRequest": {
        "properties": {
          "category": {
            "$ref": "#/components/schemas/StockCategory"
          }
        },
        "type": "object",
        "required": [
          "category"
        ],
        "title": "CategoryUpdateRequest",
        "description": "PATCH /ticker/{ticker}/category \u8acb\u6c42 Body\u3002"
      },
      "ConsensusGuruDetail": {
        "properties": {
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "action": {
            "type": "string",
            "title": "Action"
          },
          "weight_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight Pct"
          }
        },
        "type": "object",
        "required": [
          "display_name",
          "action"
        ],
        "title": "ConsensusGuruDetail",
        "description": "\u5171\u8b58\u80a1\u7968\u4e2d\u55ae\u4e00\u5927\u5e2b\u7684\u6301\u5009\u7d30\u7bc0\u3002"
      },
      "ConsensusStockItem": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "company_name": {
            "type": "string",
            "title": "Company Name",
            "default": ""
          },
          "guru_count": {
            "type": "integer",
            "title": "Guru Count"
          },
          "gurus": {
            "items": {
              "$ref": "#/components/schemas/ConsensusGuruDetail"
            },
            "type": "array",
            "title": "Gurus",
            "default": []
          },
          "total_value": {
            "type": "number",
            "title": "Total Value",
            "default": 0.0
          },
          "avg_weight_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Weight Pct"
          },
          "sector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "guru_count"
        ],
        "title": "ConsensusStockItem",
        "description": "\u88ab\u591a\u4f4d\u5927\u5e2b\u540c\u6642\u6301\u6709\u7684\u5171\u8b58\u80a1\u7968\u3002"
      },
      "CurrencyBreakdown": {
        "properties": {
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "value": {
            "type": "number",
            "title": "Value"
          },
          "percentage": {
            "type": "number",
            "title": "Percentage"
          },
          "is_home": {
            "type": "boolean",
            "title": "Is Home"
          }
        },
        "type": "object",
        "required": [
          "currency",
          "value",
          "percentage",
          "is_home"
        ],
        "title": "CurrencyBreakdown",
        "description": "\u5e63\u5225\u66dd\u96aa\u5206\u6790\uff1a\u55ae\u4e00\u5e63\u5225\u7684\u6301\u5009\u5206\u4f48\u3002"
      },
      "CurrencyExposureResponse": {
        "properties": {
          "home_currency": {
            "type": "string",
            "title": "Home Currency"
          },
          "total_value_home": {
            "type": "number",
            "title": "Total Value Home"
          },
          "breakdown": {
            "items": {
              "$ref": "#/components/schemas/CurrencyBreakdown"
            },
            "type": "array",
            "title": "Breakdown"
          },
          "non_home_pct": {
            "type": "number",
            "title": "Non Home Pct"
          },
          "cash_breakdown": {
            "items": {
              "$ref": "#/components/schemas/CurrencyBreakdown"
            },
            "type": "array",
            "title": "Cash Breakdown",
            "default": []
          },
          "cash_non_home_pct": {
            "type": "number",
            "title": "Cash Non Home Pct",
            "default": 0.0
          },
          "total_cash_home": {
            "type": "number",
            "title": "Total Cash Home",
            "default": 0.0
          },
          "fx_movements": {
            "items": {
              "$ref": "#/components/schemas/FXMovement"
            },
            "type": "array",
            "title": "Fx Movements"
          },
          "fx_rate_alerts": {
            "items": {
              "$ref": "#/components/schemas/FXRateAlertItem"
            },
            "type": "array",
            "title": "Fx Rate Alerts",
            "default": []
          },
          "risk_level": {
            "type": "string",
            "title": "Risk Level"
          },
          "advice": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Advice"
          },
          "calculated_at": {
            "type": "string",
            "title": "Calculated At",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "home_currency",
          "total_value_home",
          "breakdown",
          "non_home_pct",
          "fx_movements",
          "risk_level",
          "advice"
        ],
        "title": "CurrencyExposureResponse",
        "description": "GET /currency-exposure \u56de\u50b3\u7684\u532f\u7387\u66dd\u96aa\u5206\u6790\u3002"
      },
      "DashboardResponse": {
        "properties": {
          "gurus": {
            "items": {
              "$ref": "#/components/schemas/GuruSummaryItem"
            },
            "type": "array",
            "title": "Gurus",
            "default": []
          },
          "season_highlights": {
            "$ref": "#/components/schemas/SeasonHighlights",
            "default": {
              "new_positions": [],
              "sold_outs": []
            }
          },
          "consensus": {
            "items": {
              "$ref": "#/components/schemas/ConsensusStockItem"
            },
            "type": "array",
            "title": "Consensus",
            "default": []
          },
          "sector_breakdown": {
            "items": {
              "$ref": "#/components/schemas/SectorBreakdownItem"
            },
            "type": "array",
            "title": "Sector Breakdown",
            "default": []
          },
          "activity_feed": {
            "$ref": "#/components/schemas/ActivityFeed",
            "default": {
              "most_bought": [],
              "most_sold": []
            }
          }
        },
        "type": "object",
        "title": "DashboardResponse",
        "description": "GET /gurus/dashboard \u5b8c\u6574\u56de\u61c9\u3002"
      },
      "DeactivateRequest": {
        "properties": {
          "reason": {
            "type": "string",
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "reason"
        ],
        "title": "DeactivateRequest",
        "description": "POST /ticker/{ticker}/deactivate \u8acb\u6c42 Body\u3002"
      },
      "FXAlertResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "alerts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Alerts",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "FXAlertResponse",
        "description": "POST /currency-exposure/alert \u56de\u61c9\u3002"
      },
      "FXMovement": {
        "properties": {
          "pair": {
            "type": "string",
            "title": "Pair"
          },
          "current_rate": {
            "type": "number",
            "title": "Current Rate"
          },
          "change_pct": {
            "type": "number",
            "title": "Change Pct"
          },
          "direction": {
            "type": "string",
            "title": "Direction"
          }
        },
        "type": "object",
        "required": [
          "pair",
          "current_rate",
          "change_pct",
          "direction"
        ],
        "title": "FXMovement",
        "description": "\u8fd1\u671f\u532f\u7387\u8b8a\u52d5\u3002"
      },
      "FXRateAlertItem": {
        "properties": {
          "pair": {
            "type": "string",
            "title": "Pair"
          },
          "alert_type": {
            "type": "string",
            "title": "Alert Type"
          },
          "change_pct": {
            "type": "number",
            "title": "Change Pct"
          },
          "direction": {
            "type": "string",
            "title": "Direction"
          },
          "current_rate": {
            "type": "number",
            "title": "Current Rate"
          },
          "period_label": {
            "type": "string",
            "title": "Period Label"
          }
        },
        "type": "object",
        "required": [
          "pair",
          "alert_type",
          "change_pct",
          "direction",
          "current_rate",
          "period_label"
        ],
        "title": "FXRateAlertItem",
        "description": "\u532f\u7387\u8b8a\u52d5\u8b66\u5831\u9805\u76ee\uff08\u4e09\u5c64\u7d1a\u5075\u6e2c\uff09\u3002"
      },
      "FXTimingResultResponse": {
        "properties": {
          "base_currency": {
            "type": "string",
            "title": "Base Currency"
          },
          "quote_currency": {
            "type": "string",
            "title": "Quote Currency"
          },
          "current_rate": {
            "type": "number",
            "title": "Current Rate"
          },
          "is_recent_high": {
            "type": "boolean",
            "title": "Is Recent High"
          },
          "lookback_high": {
            "type": "number",
            "title": "Lookback High"
          },
          "lookback_days": {
            "type": "integer",
            "title": "Lookback Days"
          },
          "consecutive_increases": {
            "type": "integer",
            "title": "Consecutive Increases"
          },
          "consecutive_threshold": {
            "type": "integer",
            "title": "Consecutive Threshold"
          },
          "alert_on_recent_high": {
            "type": "boolean",
            "title": "Alert On Recent High"
          },
          "alert_on_consecutive_increase": {
            "type": "boolean",
            "title": "Alert On Consecutive Increase"
          },
          "should_alert": {
            "type": "boolean",
            "title": "Should Alert"
          },
          "recommendation_zh": {
            "type": "string",
            "title": "Recommendation Zh"
          },
          "reasoning_zh": {
            "type": "string",
            "title": "Reasoning Zh"
          }
        },
        "type": "object",
        "required": [
          "base_currency",
          "quote_currency",
          "current_rate",
          "is_recent_high",
          "lookback_high",
          "lookback_days",
          "consecutive_increases",
          "consecutive_threshold",
          "alert_on_recent_high",
          "alert_on_consecutive_increase",
          "should_alert",
          "recommendation_zh",
          "reasoning_zh"
        ],
        "title": "FXTimingResultResponse",
        "description": "\u63db\u532f\u6642\u6a5f\u5206\u6790\u7d50\u679c\u3002"
      },
      "FXWatchAlertResponse": {
        "properties": {
          "total_watches": {
            "type": "integer",
            "title": "Total Watches"
          },
          "triggered_alerts": {
            "type": "integer",
            "title": "Triggered Alerts"
          },
          "sent_alerts": {
            "type": "integer",
            "title": "Sent Alerts"
          },
          "alerts": {
            "items": {
              "$ref": "#/components/schemas/FXWatchCheckResultItem"
            },
            "type": "array",
            "title": "Alerts"
          }
        },
        "type": "object",
        "required": [
          "total_watches",
          "triggered_alerts",
          "sent_alerts",
          "alerts"
        ],
        "title": "FXWatchAlertResponse",
        "description": "POST /fx-watch/alert \u56de\u50b3\u7d50\u69cb\uff1a\u8b66\u5831\u767c\u9001\u7d50\u679c\u3002"
      },
      "FXWatchCheckResponse": {
        "properties": {
          "total_watches": {
            "type": "integer",
            "title": "Total Watches"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/FXWatchCheckResultItem"
            },
            "type": "array",
            "title": "Results"
          }
        },
        "type": "object",
        "required": [
          "total_watches",
          "results"
        ],
        "title": "FXWatchCheckResponse",
        "description": "POST /fx-watch/check \u56de\u50b3\u7d50\u69cb\uff1a\u5206\u6790\u7d50\u679c\uff08\u4e0d\u767c\u9001\u901a\u77e5\uff09\u3002"
      },
      "FXWatchCheckResultItem": {
        "properties": {
          "watch_id": {
            "type": "integer",
            "title": "Watch Id"
          },
          "pair": {
            "type": "string",
            "title": "Pair"
          },
          "result": {
            "$ref": "#/components/schemas/FXTimingResultResponse"
          }
        },
        "type": "object",
        "required": [
          "watch_id",
          "pair",
          "result"
        ],
        "title": "FXWatchCheckResultItem",
        "description": "\u55ae\u7b46\u5916\u532f\u76e3\u63a7\u5206\u6790\u7d50\u679c\u3002"
      },
      "FXWatchCreateRequest": {
        "properties": {
          "base_currency": {
            "type": "string",
            "title": "Base Currency"
          },
          "quote_currency": {
            "type": "string",
            "title": "Quote Currency"
          },
          "recent_high_days": {
            "type": "integer",
            "title": "Recent High Days",
            "default": 30
          },
          "consecutive_increase_days": {
            "type": "integer",
            "title": "Consecutive Increase Days",
            "default": 3
          },
          "alert_on_recent_high": {
            "type": "boolean",
            "title": "Alert On Recent High",
            "default": true
          },
          "alert_on_consecutive_increase": {
            "type": "boolean",
            "title": "Alert On Consecutive Increase",
            "default": true
          },
          "reminder_interval_hours": {
            "type": "integer",
            "title": "Reminder Interval Hours",
            "default": 24
          }
        },
        "type": "object",
        "required": [
          "base_currency",
          "quote_currency"
        ],
        "title": "FXWatchCreateRequest",
        "description": "POST /fx-watch \u8acb\u6c42 Body\uff1a\u65b0\u589e\u5916\u532f\u76e3\u63a7\u914d\u7f6e\u3002"
      },
      "FXWatchResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "base_currency": {
            "type": "string",
            "title": "Base Currency"
          },
          "quote_currency": {
            "type": "string",
            "title": "Quote Currency"
          },
          "recent_high_days": {
            "type": "integer",
            "title": "Recent High Days"
          },
          "consecutive_increase_days": {
            "type": "integer",
            "title": "Consecutive Increase Days"
          },
          "alert_on_recent_high": {
            "type": "boolean",
            "title": "Alert On Recent High"
          },
          "alert_on_consecutive_increase": {
            "type": "boolean",
            "title": "Alert On Consecutive Increase"
          },
          "reminder_interval_hours": {
            "type": "integer",
            "title": "Reminder Interval Hours"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "last_alerted_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Alerted At"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "base_currency",
          "quote_currency",
          "recent_high_days",
          "consecutive_increase_days",
          "alert_on_recent_high",
          "alert_on_consecutive_increase",
          "reminder_interval_hours",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "FXWatchResponse",
        "description": "GET /fx-watch \u56de\u50b3\u55ae\u7b46\u914d\u7f6e\u3002"
      },
      "FXWatchUpdateRequest": {
        "properties": {
          "recent_high_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recent High Days"
          },
          "consecutive_increase_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Consecutive Increase Days"
          },
          "alert_on_recent_high": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alert On Recent High"
          },
          "alert_on_consecutive_increase": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alert On Consecutive Increase"
          },
          "reminder_interval_hours": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reminder Interval Hours"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "FXWatchUpdateRequest",
        "description": "PATCH /fx-watch/{id} \u8acb\u6c42 Body\uff1a\u66f4\u65b0\u5916\u532f\u76e3\u63a7\u914d\u7f6e\u3002"
      },
      "FearGreedComponent": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "score": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Score"
          },
          "weight": {
            "type": "number",
            "title": "Weight"
          }
        },
        "type": "object",
        "required": [
          "name",
          "weight"
        ],
        "title": "FearGreedComponent",
        "description": "Self-calculated Fear & Greed component score."
      },
      "FearGreedResponse": {
        "properties": {
          "composite_score": {
            "type": "integer",
            "title": "Composite Score",
            "default": 50
          },
          "composite_level": {
            "type": "string",
            "title": "Composite Level",
            "default": "N/A"
          },
          "composite_label": {
            "type": "string",
            "title": "Composite Label",
            "default": ""
          },
          "self_calculated_score": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Self Calculated Score"
          },
          "components": {
            "items": {
              "$ref": "#/components/schemas/FearGreedComponent"
            },
            "type": "array",
            "title": "Components",
            "default": []
          },
          "vix": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VIXData"
              },
              {
                "type": "null"
              }
            ]
          },
          "cnn": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CNNFearGreedData"
              },
              {
                "type": "null"
              }
            ]
          },
          "fetched_at": {
            "type": "string",
            "title": "Fetched At",
            "default": ""
          }
        },
        "type": "object",
        "title": "FearGreedResponse",
        "description": "GET /market/fear-greed \u56de\u50b3\u7684\u6050\u61fc\u8207\u8caa\u5a6a\u6307\u6578\u7d9c\u5408\u5206\u6790\u3002"
      },
      "FilingHistoryItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "report_date": {
            "type": "string",
            "title": "Report Date"
          },
          "filing_date": {
            "type": "string",
            "title": "Filing Date"
          },
          "total_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Value"
          },
          "holdings_count": {
            "type": "integer",
            "title": "Holdings Count",
            "default": 0
          },
          "filing_url": {
            "type": "string",
            "title": "Filing Url",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "id",
          "report_date",
          "filing_date"
        ],
        "title": "FilingHistoryItem",
        "description": "GET /gurus/{guru_id}/filings \u4e2d\u7684\u55ae\u7b46\u7533\u5831\u6458\u8981\u3002"
      },
      "FilingHistoryResponse": {
        "properties": {
          "filings": {
            "items": {
              "$ref": "#/components/schemas/FilingHistoryItem"
            },
            "type": "array",
            "title": "Filings",
            "default": []
          }
        },
        "type": "object",
        "title": "FilingHistoryResponse",
        "description": "GET /gurus/{guru_id}/filings \u5b8c\u6574\u56de\u61c9\u3002"
      },
      "GrandPortfolioItem": {
        "properties": {
          "ticker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ticker"
          },
          "company_name": {
            "type": "string",
            "title": "Company Name"
          },
          "sector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector"
          },
          "guru_count": {
            "type": "integer",
            "title": "Guru Count"
          },
          "gurus": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Gurus"
          },
          "total_value": {
            "type": "number",
            "title": "Total Value"
          },
          "avg_weight_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Weight Pct"
          },
          "combined_weight_pct": {
            "type": "number",
            "title": "Combined Weight Pct"
          },
          "dominant_action": {
            "type": "string",
            "title": "Dominant Action"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "company_name",
          "sector",
          "guru_count",
          "gurus",
          "total_value",
          "avg_weight_pct",
          "combined_weight_pct",
          "dominant_action"
        ],
        "title": "GrandPortfolioItem",
        "description": "\u55ae\u4e00\u80a1\u7968\u5728 Grand Portfolio \u4e2d\u7684\u805a\u5408\u6301\u5009\u3002"
      },
      "GrandPortfolioResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/GrandPortfolioItem"
            },
            "type": "array",
            "title": "Items",
            "default": []
          },
          "total_value": {
            "type": "number",
            "title": "Total Value",
            "default": 0.0
          },
          "unique_tickers": {
            "type": "integer",
            "title": "Unique Tickers",
            "default": 0
          },
          "sector_breakdown": {
            "items": {
              "$ref": "#/components/schemas/SectorBreakdownItem"
            },
            "type": "array",
            "title": "Sector Breakdown",
            "default": []
          }
        },
        "type": "object",
        "title": "GrandPortfolioResponse",
        "description": "GET /gurus/grand-portfolio \u5b8c\u6574\u56de\u61c9\u3002"
      },
      "GreatMindsEntryResponse": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "guru_count": {
            "type": "integer",
            "title": "Guru Count"
          },
          "gurus": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Gurus",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "guru_count"
        ],
        "title": "GreatMindsEntryResponse",
        "description": "\u82f1\u96c4\u6240\u898b\u7565\u540c\u6e05\u55ae\u55ae\u7b46\u8cc7\u6599\u3002"
      },
      "GreatMindsResponse": {
        "properties": {
          "stocks": {
            "items": {
              "$ref": "#/components/schemas/GreatMindsEntryResponse"
            },
            "type": "array",
            "title": "Stocks"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "stocks",
          "total_count"
        ],
        "title": "GreatMindsResponse",
        "description": "GET /resonance/great-minds \u5b8c\u6574\u56de\u61c9\u3002"
      },
      "GuruCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name"
          },
          "cik": {
            "type": "string",
            "maxLength": 20,
            "minLength": 1,
            "title": "Cik",
            "description": "SEC CIK \u4ee3\u78bc"
          },
          "display_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Display Name"
          },
          "style": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "VALUE",
                  "GROWTH",
                  "MACRO",
                  "QUANT",
                  "ACTIVIST",
                  "MULTI_STRATEGY"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Style",
            "description": "\u6295\u8cc7\u98a8\u683c"
          },
          "tier": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "TIER_1",
                  "TIER_2",
                  "TIER_3"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Tier",
            "description": "\u7b49\u7d1a\u6392\u540d"
          }
        },
        "type": "object",
        "required": [
          "name",
          "cik",
          "display_name"
        ],
        "title": "GuruCreate",
        "description": "POST /gurus \u8acb\u6c42 Body\u3002"
      },
      "GuruFilingResponse": {
        "properties": {
          "guru_id": {
            "type": "integer",
            "title": "Guru Id"
          },
          "guru_display_name": {
            "type": "string",
            "title": "Guru Display Name"
          },
          "report_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Report Date"
          },
          "filing_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filing Date"
          },
          "total_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Value"
          },
          "holdings_count": {
            "type": "integer",
            "title": "Holdings Count",
            "default": 0
          },
          "filing_url": {
            "type": "string",
            "title": "Filing Url",
            "default": ""
          },
          "new_positions": {
            "type": "integer",
            "title": "New Positions",
            "default": 0
          },
          "sold_out": {
            "type": "integer",
            "title": "Sold Out",
            "default": 0
          },
          "increased": {
            "type": "integer",
            "title": "Increased",
            "default": 0
          },
          "decreased": {
            "type": "integer",
            "title": "Decreased",
            "default": 0
          },
          "top_holdings": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Top Holdings",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "guru_id",
          "guru_display_name"
        ],
        "title": "GuruFilingResponse",
        "description": "GET /gurus/{guru_id}/filing \u56de\u50b3\u7684\u6700\u65b0\u7533\u5831\u6458\u8981\u3002"
      },
      "GuruHoldingResponse": {
        "properties": {
          "guru_id": {
            "type": "integer",
            "title": "Guru Id"
          },
          "cusip": {
            "type": "string",
            "title": "Cusip"
          },
          "ticker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ticker"
          },
          "company_name": {
            "type": "string",
            "title": "Company Name"
          },
          "value": {
            "type": "number",
            "title": "Value"
          },
          "shares": {
            "type": "number",
            "title": "Shares"
          },
          "action": {
            "type": "string",
            "title": "Action"
          },
          "change_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Change Pct"
          },
          "weight_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight Pct"
          },
          "report_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Report Date"
          },
          "filing_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filing Date"
          },
          "price_change_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Change Pct"
          }
        },
        "type": "object",
        "required": [
          "guru_id",
          "cusip",
          "company_name",
          "value",
          "shares",
          "action"
        ],
        "title": "GuruHoldingResponse",
        "description": "GET /gurus/{guru_id}/holdings \u56de\u50b3\u7684\u55ae\u4e00\u6301\u5009\u8a18\u9304\u3002"
      },
      "GuruResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "cik": {
            "type": "string",
            "title": "Cik"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default"
          },
          "style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style"
          },
          "tier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tier"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "cik",
          "display_name",
          "is_active",
          "is_default"
        ],
        "title": "GuruResponse",
        "description": "GET /gurus \u56de\u50b3\u7684\u55ae\u4e00\u5927\u5e2b\u8cc7\u6599\u3002"
      },
      "GuruSummaryItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "latest_report_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Report Date"
          },
          "latest_filing_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Filing Date"
          },
          "total_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Value"
          },
          "holdings_count": {
            "type": "integer",
            "title": "Holdings Count",
            "default": 0
          },
          "filing_count": {
            "type": "integer",
            "title": "Filing Count",
            "default": 0
          },
          "style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style"
          },
          "tier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tier"
          },
          "top5_concentration_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Top5 Concentration Pct"
          },
          "turnover_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Turnover Pct"
          }
        },
        "type": "object",
        "required": [
          "id",
          "display_name"
        ],
        "title": "GuruSummaryItem",
        "description": "GET /gurus/dashboard \u4e2d\u55ae\u4e00\u5927\u5e2b\u7684\u6458\u8981\u5361\u7247\u3002"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "service": {
            "type": "string",
            "title": "Service"
          }
        },
        "type": "object",
        "required": [
          "status",
          "service"
        ],
        "title": "HealthResponse",
        "description": "GET /health \u56de\u61c9\u3002"
      },
      "HoldingDetail": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "default": "USD"
          },
          "quantity": {
            "type": "number",
            "title": "Quantity"
          },
          "market_value": {
            "type": "number",
            "title": "Market Value"
          },
          "weight_pct": {
            "type": "number",
            "title": "Weight Pct"
          },
          "avg_cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Cost"
          },
          "cost_total": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Total"
          },
          "current_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Price"
          },
          "change_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Change Pct"
          },
          "purchase_fx_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Purchase Fx Rate"
          },
          "current_fx_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Fx Rate"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "quantity",
          "market_value",
          "weight_pct"
        ],
        "title": "HoldingDetail",
        "description": "\u518d\u5e73\u8861\u5206\u6790\u4e2d\u7684\u500b\u80a1\u660e\u7d30\uff08\u540c ticker \u8de8\u5238\u5546\u5408\u4f75\uff09\u3002"
      },
      "HoldingImportItem": {
        "properties": {
          "ticker": {
            "type": "string",
            "maxLength": 20,
            "minLength": 1,
            "title": "Ticker"
          },
          "category": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Category"
          },
          "quantity": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Quantity"
          },
          "cost_basis": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Basis"
          },
          "broker": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Broker"
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "minLength": 3,
            "title": "Currency",
            "default": "USD"
          },
          "account_type": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Type"
          },
          "is_cash": {
            "type": "boolean",
            "title": "Is Cash",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "quantity"
        ],
        "title": "HoldingImportItem",
        "description": "POST /holdings/import \u55ae\u7b46\u532f\u5165\u8cc7\u6599\u3002"
      },
      "HoldingRequest": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "$ref": "#/components/schemas/StockCategory"
          },
          "quantity": {
            "type": "number",
            "title": "Quantity"
          },
          "cost_basis": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Basis"
          },
          "broker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Broker"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "default": "USD"
          },
          "account_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Type"
          },
          "is_cash": {
            "type": "boolean",
            "title": "Is Cash",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "quantity"
        ],
        "title": "HoldingRequest",
        "description": "POST /holdings \u8acb\u6c42 Body\u3002"
      },
      "HoldingResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "$ref": "#/components/schemas/StockCategory"
          },
          "quantity": {
            "type": "number",
            "title": "Quantity"
          },
          "cost_basis": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Basis"
          },
          "broker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Broker"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "default": "USD"
          },
          "account_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Type"
          },
          "is_cash": {
            "type": "boolean",
            "title": "Is Cash"
          },
          "purchase_fx_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Purchase Fx Rate"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "ticker",
          "category",
          "quantity",
          "is_cash",
          "updated_at"
        ],
        "title": "HoldingResponse",
        "description": "GET /holdings \u56de\u50b3\u7684\u55ae\u4e00\u6301\u5009\u3002"
      },
      "ImportResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "imported": {
            "type": "integer",
            "title": "Imported"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "message",
          "imported"
        ],
        "title": "ImportResponse",
        "description": "\u532f\u5165\u64cd\u4f5c\u56de\u61c9\u3002"
      },
      "LastScanResponse": {
        "properties": {
          "last_scanned_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Scanned At"
          },
          "epoch": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Epoch"
          },
          "market_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Market Status"
          },
          "market_status_details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Market Status Details"
          },
          "fear_greed_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fear Greed Level"
          },
          "fear_greed_score": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fear Greed Score"
          }
        },
        "type": "object",
        "title": "LastScanResponse",
        "description": "GET /scan/last \u56de\u61c9\u3002"
      },
      "MessageResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "MessageResponse",
        "description": "\u901a\u7528\u64cd\u4f5c\u7d50\u679c\u56de\u61c9\uff08\u522a\u9664\u3001\u505c\u7528\u3001\u91cd\u65b0\u555f\u7528\u3001\u532f\u5165\u7b49\uff09\u3002"
      },
      "PersonaTemplateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "quote": {
            "type": "string",
            "title": "Quote"
          },
          "is_empty": {
            "type": "boolean",
            "title": "Is Empty"
          },
          "default_config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Default Config"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "quote",
          "is_empty",
          "default_config"
        ],
        "title": "PersonaTemplateResponse",
        "description": "GET /personas/templates \u56de\u50b3\u7684\u55ae\u4e00\u7bc4\u672c\u3002"
      },
      "PreferencesRequest": {
        "properties": {
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "privacy_mode": {
            "type": "boolean",
            "title": "Privacy Mode"
          },
          "notification_preferences": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "boolean"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notification Preferences"
          }
        },
        "type": "object",
        "required": [
          "privacy_mode"
        ],
        "title": "PreferencesRequest",
        "description": "PUT /settings/preferences \u8acb\u6c42 Body\u3002"
      },
      "PreferencesResponse": {
        "properties": {
          "language": {
            "type": "string",
            "title": "Language"
          },
          "privacy_mode": {
            "type": "boolean",
            "title": "Privacy Mode"
          },
          "notification_preferences": {
            "additionalProperties": {
              "type": "boolean"
            },
            "type": "object",
            "title": "Notification Preferences"
          }
        },
        "type": "object",
        "required": [
          "language",
          "privacy_mode",
          "notification_preferences"
        ],
        "title": "PreferencesResponse",
        "description": "GET /settings/preferences \u56de\u61c9\u3002"
      },
      "PrewarmStatusResponse": {
        "properties": {
          "ready": {
            "type": "boolean",
            "title": "Ready"
          }
        },
        "type": "object",
        "required": [
          "ready"
        ],
        "title": "PrewarmStatusResponse",
        "description": "GET /prewarm-status \u56de\u61c9\u3002"
      },
      "PriceAlertCreateRequest": {
        "properties": {
          "metric": {
            "type": "string",
            "title": "Metric",
            "default": "rsi"
          },
          "operator": {
            "type": "string",
            "title": "Operator",
            "default": "lt"
          },
          "threshold": {
            "type": "number",
            "title": "Threshold",
            "default": 30.0
          }
        },
        "type": "object",
        "title": "PriceAlertCreateRequest",
        "description": "POST /ticker/{ticker}/alerts \u8acb\u6c42 Body\u3002"
      },
      "ProfileCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "default": ""
          },
          "source_template_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Template Id"
          },
          "config": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Config"
          },
          "home_currency": {
            "type": "string",
            "title": "Home Currency",
            "default": "TWD"
          }
        },
        "type": "object",
        "required": [
          "config"
        ],
        "title": "ProfileCreateRequest",
        "description": "POST /profiles \u8acb\u6c42 Body\u3002"
      },
      "ProfileResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "source_template_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Template Id"
          },
          "home_currency": {
            "type": "string",
            "title": "Home Currency",
            "default": "TWD"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "name",
          "config",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "ProfileResponse",
        "description": "GET /profiles \u56de\u50b3\u7684\u6295\u8cc7\u7d44\u5408\u914d\u7f6e\u3002"
      },
      "ProfileUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "home_currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Home Currency"
          }
        },
        "type": "object",
        "title": "ProfileUpdateRequest",
        "description": "PUT /profiles/{id} \u8acb\u6c42 Body\u3002"
      },
      "QoQHoldingItem": {
        "properties": {
          "ticker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ticker"
          },
          "company_name": {
            "type": "string",
            "title": "Company Name"
          },
          "quarters": {
            "items": {
              "$ref": "#/components/schemas/QoQQuarterSnapshot"
            },
            "type": "array",
            "title": "Quarters"
          },
          "trend": {
            "type": "string",
            "title": "Trend"
          }
        },
        "type": "object",
        "required": [
          "company_name",
          "quarters",
          "trend"
        ],
        "title": "QoQHoldingItem",
        "description": "\u8de8\u5b63\u5ea6\u7684\u55ae\u4e00\u80a1\u7968\u6301\u5009\u6b77\u53f2\u8a18\u9304\u3002"
      },
      "QoQQuarterSnapshot": {
        "properties": {
          "report_date": {
            "type": "string",
            "title": "Report Date"
          },
          "shares": {
            "type": "number",
            "title": "Shares"
          },
          "value": {
            "type": "number",
            "title": "Value"
          },
          "weight_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight Pct"
          },
          "action": {
            "type": "string",
            "title": "Action"
          }
        },
        "type": "object",
        "required": [
          "report_date",
          "shares",
          "value",
          "action"
        ],
        "title": "QoQQuarterSnapshot",
        "description": "\u55ae\u5b63\u6301\u5009\u5feb\u7167\uff08QoQ \u6bd4\u8f03\u7528\uff09\u3002"
      },
      "QoQResponse": {
        "properties": {
          "guru_id": {
            "type": "integer",
            "title": "Guru Id"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/QoQHoldingItem"
            },
            "type": "array",
            "title": "Items",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "guru_id"
        ],
        "title": "QoQResponse",
        "description": "GET /gurus/{guru_id}/qoq \u5b8c\u6574\u56de\u61c9\u3002"
      },
      "ReactivateRequest": {
        "properties": {
          "category": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StockCategory"
              },
              {
                "type": "null"
              }
            ]
          },
          "thesis": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thesis"
          }
        },
        "type": "object",
        "title": "ReactivateRequest",
        "description": "POST /ticker/{ticker}/reactivate \u8acb\u6c42 Body\u3002"
      },
      "RebalanceResponse": {
        "properties": {
          "total_value": {
            "type": "number",
            "title": "Total Value"
          },
          "previous_total_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Total Value"
          },
          "total_value_change": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Value Change"
          },
          "total_value_change_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Value Change Pct"
          },
          "display_currency": {
            "type": "string",
            "title": "Display Currency",
            "default": "USD"
          },
          "categories": {
            "additionalProperties": {
              "$ref": "#/components/schemas/CategoryAllocation"
            },
            "type": "object",
            "title": "Categories"
          },
          "advice": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Advice"
          },
          "holdings_detail": {
            "items": {
              "$ref": "#/components/schemas/HoldingDetail"
            },
            "type": "array",
            "title": "Holdings Detail",
            "default": []
          },
          "xray": {
            "items": {
              "$ref": "#/components/schemas/XRayEntry"
            },
            "type": "array",
            "title": "Xray",
            "default": []
          },
          "health_score": {
            "type": "integer",
            "title": "Health Score",
            "default": 100
          },
          "health_level": {
            "type": "string",
            "title": "Health Level",
            "default": "healthy"
          },
          "sector_exposure": {
            "items": {
              "$ref": "#/components/schemas/SectorExposureItem"
            },
            "type": "array",
            "title": "Sector Exposure",
            "default": []
          },
          "calculated_at": {
            "type": "string",
            "title": "Calculated At",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "total_value",
          "categories",
          "advice"
        ],
        "title": "RebalanceResponse",
        "description": "GET /rebalance \u56de\u50b3\u7684\u518d\u5e73\u8861\u5206\u6790\u3002"
      },
      "RemovedStockResponse": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "$ref": "#/components/schemas/StockCategory"
          },
          "current_thesis": {
            "type": "string",
            "title": "Current Thesis"
          },
          "removal_reason": {
            "type": "string",
            "title": "Removal Reason"
          },
          "removed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Removed At"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "current_thesis",
          "removal_reason"
        ],
        "title": "RemovedStockResponse",
        "description": "GET /stocks/removed \u56de\u50b3\u7684\u55ae\u7b46\u5df2\u79fb\u9664\u80a1\u7968\u8cc7\u6599\u3002"
      },
      "ReorderRequest": {
        "properties": {
          "ordered_tickers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ordered Tickers"
          }
        },
        "type": "object",
        "required": [
          "ordered_tickers"
        ],
        "title": "ReorderRequest",
        "description": "PUT /stocks/reorder \u8acb\u6c42 Body\u3002"
      },
      "ResonanceEntryResponse": {
        "properties": {
          "guru_id": {
            "type": "integer",
            "title": "Guru Id"
          },
          "guru_display_name": {
            "type": "string",
            "title": "Guru Display Name"
          },
          "overlapping_tickers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Overlapping Tickers",
            "default": []
          },
          "overlap_count": {
            "type": "integer",
            "title": "Overlap Count"
          },
          "holdings": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Holdings",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "guru_id",
          "guru_display_name",
          "overlap_count"
        ],
        "title": "ResonanceEntryResponse",
        "description": "GET /resonance \u56de\u50b3\u7684\u55ae\u4e00\u5927\u5e2b\u5171\u9cf4\u8a18\u9304\u3002"
      },
      "ResonanceResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ResonanceEntryResponse"
            },
            "type": "array",
            "title": "Results"
          },
          "total_gurus": {
            "type": "integer",
            "title": "Total Gurus"
          },
          "gurus_with_overlap": {
            "type": "integer",
            "title": "Gurus With Overlap"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_gurus",
          "gurus_with_overlap"
        ],
        "title": "ResonanceResponse",
        "description": "GET /resonance \u5b8c\u6574\u56de\u61c9\u3002"
      },
      "ResonanceTickerResponse": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "gurus": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Gurus",
            "default": []
          },
          "guru_count": {
            "type": "integer",
            "title": "Guru Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "ticker"
        ],
        "title": "ResonanceTickerResponse",
        "description": "GET /resonance/{ticker} \u56de\u50b3\u7684\u5927\u5e2b\u5171\u9cf4\u8cc7\u6599\u3002"
      },
      "ScanSignal": {
        "type": "string",
        "enum": [
          "THESIS_BROKEN",
          "DEEP_VALUE",
          "OVERSOLD",
          "CONTRARIAN_BUY",
          "APPROACHING_BUY",
          "OVERHEATED",
          "CAUTION_HIGH",
          "WEAKENING",
          "NORMAL"
        ],
        "title": "ScanSignal",
        "description": "\u6383\u63cf\u6c7a\u7b56\u8a0a\u865f"
      },
      "ScanStatusResponse": {
        "properties": {
          "is_running": {
            "type": "boolean",
            "title": "Is Running"
          }
        },
        "type": "object",
        "required": [
          "is_running"
        ],
        "title": "ScanStatusResponse",
        "description": "GET /scan/status \u56de\u61c9\u3002"
      },
      "SeasonHighlightItem": {
        "properties": {
          "ticker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ticker"
          },
          "company_name": {
            "type": "string",
            "title": "Company Name",
            "default": ""
          },
          "guru_id": {
            "type": "integer",
            "title": "Guru Id"
          },
          "guru_display_name": {
            "type": "string",
            "title": "Guru Display Name"
          },
          "value": {
            "type": "number",
            "title": "Value",
            "default": 0.0
          },
          "weight_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight Pct"
          },
          "change_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Change Pct"
          }
        },
        "type": "object",
        "required": [
          "guru_id",
          "guru_display_name"
        ],
        "title": "SeasonHighlightItem",
        "description": "\u672c\u5b63\u91cd\u9ede\u8b8a\u52d5\uff08\u65b0\u5efa\u5009\u6216\u6e05\u5009\uff09\u7684\u55ae\u7b46\u8a18\u9304\u3002"
      },
      "SeasonHighlights": {
        "properties": {
          "new_positions": {
            "items": {
              "$ref": "#/components/schemas/SeasonHighlightItem"
            },
            "type": "array",
            "title": "New Positions",
            "default": []
          },
          "sold_outs": {
            "items": {
              "$ref": "#/components/schemas/SeasonHighlightItem"
            },
            "type": "array",
            "title": "Sold Outs",
            "default": []
          }
        },
        "type": "object",
        "title": "SeasonHighlights",
        "description": "\u672c\u5b63\u65b0\u5efa\u5009\u8207\u6e05\u5009\u5f59\u7e3d\u3002"
      },
      "SectorBreakdownItem": {
        "properties": {
          "sector": {
            "type": "string",
            "title": "Sector"
          },
          "total_value": {
            "type": "number",
            "title": "Total Value"
          },
          "holding_count": {
            "type": "integer",
            "title": "Holding Count"
          },
          "weight_pct": {
            "type": "number",
            "title": "Weight Pct"
          }
        },
        "type": "object",
        "required": [
          "sector",
          "total_value",
          "holding_count",
          "weight_pct"
        ],
        "title": "SectorBreakdownItem",
        "description": "\u4f9d\u884c\u696d\u677f\u584a\u5f59\u7e3d\u7684\u6301\u5009\u5206\u4f48\u55ae\u7b46\u3002"
      },
      "SectorExposureItem": {
        "properties": {
          "sector": {
            "type": "string",
            "title": "Sector"
          },
          "value": {
            "type": "number",
            "title": "Value"
          },
          "weight_pct": {
            "type": "number",
            "title": "Weight Pct"
          },
          "equity_pct": {
            "type": "number",
            "title": "Equity Pct"
          }
        },
        "type": "object",
        "required": [
          "sector",
          "value",
          "weight_pct",
          "equity_pct"
        ],
        "title": "SectorExposureItem",
        "description": "\u884c\u696d\u677f\u584a\u66dd\u96aa\u55ae\u7b46\u8cc7\u6599\uff08\u80a1\u7968\u6301\u5009\u7528\uff09\u3002"
      },
      "SellRecommendationResponse": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "quantity_to_sell": {
            "type": "number",
            "title": "Quantity To Sell"
          },
          "sell_value": {
            "type": "number",
            "title": "Sell Value"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          },
          "unrealized_pl": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unrealized Pl"
          },
          "priority": {
            "type": "integer",
            "title": "Priority"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "quantity_to_sell",
          "sell_value",
          "reason",
          "priority"
        ],
        "title": "SellRecommendationResponse",
        "description": "\u55ae\u7b46\u8ce3\u51fa\u5efa\u8b70\u3002"
      },
      "SnapshotResponse": {
        "properties": {
          "snapshot_date": {
            "type": "string",
            "title": "Snapshot Date"
          },
          "total_value": {
            "type": "number",
            "title": "Total Value"
          },
          "category_values": {
            "additionalProperties": true,
            "type": "object",
            "title": "Category Values"
          },
          "display_currency": {
            "type": "string",
            "title": "Display Currency",
            "default": "USD"
          },
          "benchmark_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Benchmark Value"
          },
          "benchmark_values": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Benchmark Values",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "snapshot_date",
          "total_value",
          "category_values"
        ],
        "title": "SnapshotResponse",
        "description": "GET /snapshots \u56de\u50b3\u7684\u55ae\u65e5\u6295\u8cc7\u7d44\u5408\u5feb\u7167\u3002"
      },
      "StockCategory": {
        "type": "string",
        "enum": [
          "Trend_Setter",
          "Moat",
          "Growth",
          "Bond",
          "Cash"
        ],
        "title": "StockCategory",
        "description": "\u80a1\u7968\u5206\u985e\uff1a\u98a8\u5411\u7403 / \u8b77\u57ce\u6cb3 / \u6210\u9577\u5922\u60f3 / \u50b5\u5238 / \u73fe\u91d1"
      },
      "StockImportItem": {
        "properties": {
          "ticker": {
            "type": "string",
            "maxLength": 20,
            "minLength": 1,
            "title": "Ticker"
          },
          "category": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Category"
          },
          "thesis": {
            "type": "string",
            "maxLength": 5000,
            "title": "Thesis",
            "default": ""
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Tags"
          },
          "is_etf": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Etf"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category"
        ],
        "title": "StockImportItem",
        "description": "POST /stocks/import \u55ae\u7b46\u532f\u5165\u8cc7\u6599\u3002"
      },
      "StockResponse": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "$ref": "#/components/schemas/StockCategory"
          },
          "current_thesis": {
            "type": "string",
            "title": "Current Thesis"
          },
          "current_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Current Tags",
            "default": []
          },
          "display_order": {
            "type": "integer",
            "title": "Display Order",
            "default": 0
          },
          "last_scan_signal": {
            "$ref": "#/components/schemas/ScanSignal",
            "default": "NORMAL"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_etf": {
            "type": "boolean",
            "title": "Is Etf",
            "default": false
          },
          "signals": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signals"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "current_thesis",
          "is_active"
        ],
        "title": "StockResponse",
        "description": "GET /stocks \u56de\u50b3\u7684\u55ae\u7b46\u80a1\u7968\u8cc7\u6599\u3002"
      },
      "StressTestHoldingBreakdown": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "beta": {
            "type": "number",
            "title": "Beta"
          },
          "market_value": {
            "type": "number",
            "title": "Market Value"
          },
          "expected_drop_pct": {
            "type": "number",
            "title": "Expected Drop Pct"
          },
          "expected_loss": {
            "type": "number",
            "title": "Expected Loss"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "beta",
          "market_value",
          "expected_drop_pct",
          "expected_loss"
        ],
        "title": "StressTestHoldingBreakdown",
        "description": "\u58d3\u529b\u6e2c\u8a66\uff1a\u55ae\u6a94\u6301\u5009\u640d\u5931\u7d30\u9805\u3002"
      },
      "StressTestPainLevel": {
        "properties": {
          "level": {
            "type": "string",
            "title": "Level"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "emoji": {
            "type": "string",
            "title": "Emoji"
          }
        },
        "type": "object",
        "required": [
          "level",
          "label",
          "emoji"
        ],
        "title": "StressTestPainLevel",
        "description": "\u58d3\u529b\u6e2c\u8a66\uff1a\u75db\u82e6\u7b49\u7d1a\u5206\u985e\u3002"
      },
      "StressTestResponse": {
        "properties": {
          "portfolio_beta": {
            "type": "number",
            "title": "Portfolio Beta"
          },
          "scenario_drop_pct": {
            "type": "number",
            "title": "Scenario Drop Pct"
          },
          "total_value": {
            "type": "number",
            "title": "Total Value"
          },
          "total_loss": {
            "type": "number",
            "title": "Total Loss"
          },
          "total_loss_pct": {
            "type": "number",
            "title": "Total Loss Pct"
          },
          "display_currency": {
            "type": "string",
            "title": "Display Currency"
          },
          "pain_level": {
            "$ref": "#/components/schemas/StressTestPainLevel"
          },
          "advice": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Advice"
          },
          "disclaimer": {
            "type": "string",
            "title": "Disclaimer"
          },
          "holdings_breakdown": {
            "items": {
              "$ref": "#/components/schemas/StressTestHoldingBreakdown"
            },
            "type": "array",
            "title": "Holdings Breakdown"
          }
        },
        "type": "object",
        "required": [
          "portfolio_beta",
          "scenario_drop_pct",
          "total_value",
          "total_loss",
          "total_loss_pct",
          "display_currency",
          "pain_level",
          "advice",
          "disclaimer",
          "holdings_breakdown"
        ],
        "title": "StressTestResponse",
        "description": "GET /stress-test \u56de\u50b3\u7d50\u69cb\uff1a\u7d44\u5408\u58d3\u529b\u6e2c\u8a66\u7d50\u679c\u3002"
      },
      "SyncAllResponse": {
        "properties": {
          "synced": {
            "type": "integer",
            "title": "Synced"
          },
          "skipped": {
            "type": "integer",
            "title": "Skipped"
          },
          "errors": {
            "type": "integer",
            "title": "Errors"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SyncResponse"
            },
            "type": "array",
            "title": "Results",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "synced",
          "skipped",
          "errors"
        ],
        "title": "SyncAllResponse",
        "description": "POST /gurus/sync \u56de\u50b3\u7684\u5168\u5927\u5e2b\u540c\u6b65\u7d50\u679c\u3002"
      },
      "SyncResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "guru_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Guru Id"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": ""
          },
          "new_positions": {
            "type": "integer",
            "title": "New Positions",
            "default": 0
          },
          "sold_out": {
            "type": "integer",
            "title": "Sold Out",
            "default": 0
          },
          "increased": {
            "type": "integer",
            "title": "Increased",
            "default": 0
          },
          "decreased": {
            "type": "integer",
            "title": "Decreased",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "SyncResponse",
        "description": "POST /gurus/{guru_id}/sync \u56de\u50b3\u7684\u540c\u6b65\u7d50\u679c\u3002"
      },
      "TelegramSettingsRequest": {
        "properties": {
          "telegram_chat_id": {
            "type": "string",
            "title": "Telegram Chat Id",
            "default": ""
          },
          "custom_bot_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Bot Token"
          },
          "use_custom_bot": {
            "type": "boolean",
            "title": "Use Custom Bot",
            "default": false
          }
        },
        "type": "object",
        "title": "TelegramSettingsRequest",
        "description": "PUT /settings/telegram \u8acb\u6c42 Body\u3002"
      },
      "TelegramSettingsResponse": {
        "properties": {
          "telegram_chat_id": {
            "type": "string",
            "title": "Telegram Chat Id"
          },
          "custom_bot_token_masked": {
            "type": "string",
            "title": "Custom Bot Token Masked"
          },
          "use_custom_bot": {
            "type": "boolean",
            "title": "Use Custom Bot"
          }
        },
        "type": "object",
        "required": [
          "telegram_chat_id",
          "custom_bot_token_masked",
          "use_custom_bot"
        ],
        "title": "TelegramSettingsResponse",
        "description": "GET /settings/telegram \u56de\u50b3\u7d50\u69cb\uff08token \u906e\u853d\uff09\u3002"
      },
      "ThesisCreateRequest": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "ThesisCreateRequest",
        "description": "POST /ticker/{ticker}/thesis \u8acb\u6c42 Body\u3002"
      },
      "TickerCreateRequest": {
        "properties": {
          "ticker": {
            "type": "string",
            "title": "Ticker"
          },
          "category": {
            "$ref": "#/components/schemas/StockCategory"
          },
          "thesis": {
            "type": "string",
            "title": "Thesis"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "default": []
          },
          "is_etf": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Etf"
          }
        },
        "type": "object",
        "required": [
          "ticker",
          "category",
          "thesis"
        ],
        "title": "TickerCreateRequest",
        "description": "POST /ticker \u8acb\u6c42 Body\u3002"
      },
      "TwrResponse": {
        "properties": {
          "twr_pct": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Twr Pct"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "snapshot_count": {
            "type": "integer",
            "title": "Snapshot Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "twr_pct"
        ],
        "title": "TwrResponse",
        "description": "GET /snapshots/twr \u56de\u50b3\u7684\u6642\u9593\u52a0\u6b0a\u5831\u916c\u7387\u3002"
      },
      "UpdateHoldingRequest": {
        "properties": {
          "quantity": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Quantity"
          },
          "cost_basis": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Basis"
          },
          "broker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Broker"
          },
          "category": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StockCategory"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "UpdateHoldingRequest",
        "description": "PUT /holdings/{id} \u8acb\u6c42 Body \u2014 \u6240\u6709\u6b04\u4f4d\u5747\u70ba\u9078\u586b\uff0c\u50c5\u66f4\u65b0\u63d0\u4f9b\u7684\u6b04\u4f4d\u3002"
      },
      "VIXData": {
        "properties": {
          "value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value"
          },
          "change_1d": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Change 1D"
          },
          "level": {
            "type": "string",
            "title": "Level",
            "default": "N/A"
          },
          "fetched_at": {
            "type": "string",
            "title": "Fetched At",
            "default": ""
          }
        },
        "type": "object",
        "title": "VIXData",
        "description": "VIX \u6307\u6578\u8cc7\u6599\u3002"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          },
          "input": {
            "title": "Input"
          },
          "ctx": {
            "type": "object",
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WebhookRequest": {
        "properties": {
          "action": {
            "type": "string",
            "title": "Action"
          },
          "ticker": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ticker"
          },
          "params": {
            "additionalProperties": true,
            "type": "object",
            "title": "Params",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "action"
        ],
        "title": "WebhookRequest",
        "description": "POST /webhook \u8acb\u6c42 Body \u2014 \u7d71\u4e00\u5165\u53e3\u4f9b AI agent \u4f7f\u7528\u3002"
      },
      "WebhookResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "WebhookResponse",
        "description": "POST /webhook \u56de\u50b3\u7d50\u69cb\u3002"
      },
      "WithdrawRequest": {
        "properties": {
          "target_amount": {
            "type": "number",
            "title": "Target Amount"
          },
          "display_currency": {
            "type": "string",
            "title": "Display Currency",
            "default": "USD"
          },
          "notify": {
            "type": "boolean",
            "title": "Notify",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "target_amount"
        ],
        "title": "WithdrawRequest",
        "description": "POST /withdraw \u8acb\u6c42 Body\u3002"
      },
      "WithdrawResponse": {
        "properties": {
          "recommendations": {
            "items": {
              "$ref": "#/components/schemas/SellRecommendationResponse"
            },
            "type": "array",
            "title": "Recommendations",
            "default": []
          },
          "total_sell_value": {
            "type": "number",
            "title": "Total Sell Value",
            "default": 0.0
          },
          "target_amount": {
            "type": "number",
            "title": "Target Amount",
            "default": 0.0
          },
          "shortfall": {
            "type": "number",
            "title": "Shortfall",
            "default": 0.0
          },
          "post_sell_drifts": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Post Sell Drifts",
            "default": {}
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": ""
          }
        },
        "type": "object",
        "title": "WithdrawResponse",
        "description": "POST /withdraw \u56de\u50b3\u7684\u63d0\u6b3e\u8a08\u5283\u3002"
      },
      "XRayAlertResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "XRayAlertResponse",
        "description": "POST /rebalance/xray-alert \u56de\u61c9\u3002"
      },
      "XRayEntry": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "default": ""
          },
          "direct_value": {
            "type": "number",
            "title": "Direct Value",
            "default": 0.0
          },
          "direct_weight_pct": {
            "type": "number",
            "title": "Direct Weight Pct",
            "default": 0.0
          },
          "indirect_value": {
            "type": "number",
            "title": "Indirect Value",
            "default": 0.0
          },
          "indirect_weight_pct": {
            "type": "number",
            "title": "Indirect Weight Pct",
            "default": 0.0
          },
          "total_value": {
            "type": "number",
            "title": "Total Value",
            "default": 0.0
          },
          "total_weight_pct": {
            "type": "number",
            "title": "Total Weight Pct",
            "default": 0.0
          },
          "indirect_sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Indirect Sources",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "symbol"
        ],
        "title": "XRayEntry",
        "description": "X-Ray: \u55ae\u4e00\u6a19\u7684\u771f\u5be6\u66dd\u96aa\uff08\u76f4\u63a5\u6301\u5009 + ETF \u9593\u63a5\u66dd\u96aa\uff09\u3002"
      }
    }
  }
}
